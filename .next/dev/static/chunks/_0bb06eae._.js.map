{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/iyan/NodeStudio/clustering-next/lib/cluster-utils.ts"],"sourcesContent":["import { ClusterInfo } from '@/lib/types';\n\n/**\n * Generates a descriptive label for a cluster based on its top words.\n * Falls back to \"Cluster {id}\" if no words are available.\n * \n * @param cluster The cluster object\n * @param options Options for formatting\n * @returns A string label for the cluster\n */\nexport function getClusterLabel(cluster: ClusterInfo, options?: { maxWords?: number, separator?: string }): string {\n  if (!cluster.words || cluster.words.length === 0) {\n    return `Cluster ${cluster.id}`;\n  }\n\n  const { maxWords = 3, separator = ' ' } = options || {};\n\n  // Sort words by weight to get the most representative ones\n  const sortedWords = [...cluster.words].sort((a, b) => b.weight - a.weight);\n  \n  // Get top words\n  const topWords = sortedWords.slice(0, maxWords).map(w => w.text);\n\n  if (topWords.length === 0) {\n    return `Cluster ${cluster.id}`;\n  }\n\n  // Capitalize first letter of each word\n  const capitalizedWords = topWords.map(w => w.charAt(0).toUpperCase() + w.slice(1));\n  \n  return capitalizedWords.join(separator);\n}\n"],"names":[],"mappings":";;;;AAUO,SAAS,gBAAgB,OAAoB,EAAE,OAAmD;IACvG,IAAI,CAAC,QAAQ,KAAK,IAAI,QAAQ,KAAK,CAAC,MAAM,KAAK,GAAG;QAChD,OAAO,CAAC,QAAQ,EAAE,QAAQ,EAAE,EAAE;IAChC;IAEA,MAAM,EAAE,WAAW,CAAC,EAAE,YAAY,GAAG,EAAE,GAAG,WAAW,CAAC;IAEtD,2DAA2D;IAC3D,MAAM,cAAc;WAAI,QAAQ,KAAK;KAAC,CAAC,IAAI,CAAC,CAAC,GAAG,IAAM,EAAE,MAAM,GAAG,EAAE,MAAM;IAEzE,gBAAgB;IAChB,MAAM,WAAW,YAAY,KAAK,CAAC,GAAG,UAAU,GAAG,CAAC,CAAA,IAAK,EAAE,IAAI;IAE/D,IAAI,SAAS,MAAM,KAAK,GAAG;QACzB,OAAO,CAAC,QAAQ,EAAE,QAAQ,EAAE,EAAE;IAChC;IAEA,uCAAuC;IACvC,MAAM,mBAAmB,SAAS,GAAG,CAAC,CAAA,IAAK,EAAE,MAAM,CAAC,GAAG,WAAW,KAAK,EAAE,KAAK,CAAC;IAE/E,OAAO,iBAAiB,IAAI,CAAC;AAC/B"}},
    {"offset": {"line": 33, "column": 0}, "map": {"version":3,"sources":["file:///Users/iyan/NodeStudio/clustering-next/components/visualizations/BarChartVisualization.tsx"],"sourcesContent":["'use client';\n\nimport { ClusterResult } from '@/lib/types';\nimport { BarChart, Bar, XAxis, YAxis, CartesianGrid, Tooltip, ResponsiveContainer, Cell } from 'recharts';\nimport { getClusterLabel } from '@/lib/cluster-utils';\n\ninterface BarChartVisualizationProps {\n  data: ClusterResult;\n}\n\nexport default function BarChartVisualization({ data }: BarChartVisualizationProps) {\n  // Prepare data for each cluster\n  const chartData = data.clusters.flatMap(cluster => {\n    const clusterLabel = getClusterLabel(cluster, { maxWords: 2 });\n    \n    return cluster.words.slice(0, 5).map(word => ({\n      cluster: clusterLabel,\n      word: word.text,\n      weight: word.weight,\n      color: cluster.color,\n      fullLabel: `${word.text} (${clusterLabel})`,\n    }));\n  });\n\n  return (\n    <div className=\"w-full h-full bg-white dark:bg-gray-900 rounded-xl border border-gray-200 dark:border-gray-700 p-4 overflow-auto\">\n      <h3 className=\"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-4\">\n        Top Words by Cluster\n      </h3>\n      <ResponsiveContainer width=\"100%\" height={Math.max(400, chartData.length * 35)}>\n        <BarChart \n          data={chartData} \n          layout=\"vertical\"\n          margin={{ top: 5, right: 30, left: 100, bottom: 5 }}\n        >\n          <CartesianGrid strokeDasharray=\"3 3\" stroke=\"#e5e7eb\" />\n          <XAxis \n            type=\"number\"\n            stroke=\"#6b7280\"\n            label={{ value: 'TF-IDF Weight', position: 'insideBottom', offset: -5 }}\n          />\n          <YAxis \n            type=\"category\" \n            dataKey=\"fullLabel\"\n            stroke=\"#6b7280\"\n            width={120}\n            style={{ fontSize: '10px' }}\n            interval={0}\n          />\n          <Tooltip \n            content={({ active, payload }) => {\n              if (active && payload && payload.length) {\n                const data = payload[0].payload;\n                return (\n                  <div className=\"bg-white dark:bg-gray-800 p-3 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700\">\n                    <p className=\"text-sm font-semibold text-gray-900 dark:text-gray-100\">\n                      {data.word}\n                    </p>\n                    <p className=\"text-xs text-gray-600 dark:text-gray-400 mt-1\">\n                      Cluster: {data.cluster} â€¢ Weight: {data.weight.toFixed(3)}\n                    </p>\n                  </div>\n                );\n              }\n              return null;\n            }}\n          />\n          <Bar dataKey=\"weight\" radius={[0, 4, 4, 0]}>\n            {chartData.map((entry, index) => (\n              <Cell key={`cell-${index}`} fill={entry.color} />\n            ))}\n          </Bar>\n        </BarChart>\n      </ResponsiveContainer>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAJA;;;;AAUe,SAAS,sBAAsB,EAAE,IAAI,EAA8B;IAChF,gCAAgC;IAChC,MAAM,YAAY,KAAK,QAAQ,CAAC,OAAO,CAAC,CAAA;QACtC,MAAM,eAAe,IAAA,6IAAe,EAAC,SAAS;YAAE,UAAU;QAAE;QAE5D,OAAO,QAAQ,KAAK,CAAC,KAAK,CAAC,GAAG,GAAG,GAAG,CAAC,CAAA,OAAQ,CAAC;gBAC5C,SAAS;gBACT,MAAM,KAAK,IAAI;gBACf,QAAQ,KAAK,MAAM;gBACnB,OAAO,QAAQ,KAAK;gBACpB,WAAW,GAAG,KAAK,IAAI,CAAC,EAAE,EAAE,aAAa,CAAC,CAAC;YAC7C,CAAC;IACH;IAEA,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBAAG,WAAU;0BAA8D;;;;;;0BAG5E,6LAAC,6LAAmB;gBAAC,OAAM;gBAAO,QAAQ,KAAK,GAAG,CAAC,KAAK,UAAU,MAAM,GAAG;0BACzE,cAAA,6LAAC,mKAAQ;oBACP,MAAM;oBACN,QAAO;oBACP,QAAQ;wBAAE,KAAK;wBAAG,OAAO;wBAAI,MAAM;wBAAK,QAAQ;oBAAE;;sCAElD,6LAAC,iLAAa;4BAAC,iBAAgB;4BAAM,QAAO;;;;;;sCAC5C,6LAAC,iKAAK;4BACJ,MAAK;4BACL,QAAO;4BACP,OAAO;gCAAE,OAAO;gCAAiB,UAAU;gCAAgB,QAAQ,CAAC;4BAAE;;;;;;sCAExE,6LAAC,iKAAK;4BACJ,MAAK;4BACL,SAAQ;4BACR,QAAO;4BACP,OAAO;4BACP,OAAO;gCAAE,UAAU;4BAAO;4BAC1B,UAAU;;;;;;sCAEZ,6LAAC,qKAAO;4BACN,SAAS,CAAC,EAAE,MAAM,EAAE,OAAO,EAAE;gCAC3B,IAAI,UAAU,WAAW,QAAQ,MAAM,EAAE;oCACvC,MAAM,OAAO,OAAO,CAAC,EAAE,CAAC,OAAO;oCAC/B,qBACE,6LAAC;wCAAI,WAAU;;0DACb,6LAAC;gDAAE,WAAU;0DACV,KAAK,IAAI;;;;;;0DAEZ,6LAAC;gDAAE,WAAU;;oDAAgD;oDACjD,KAAK,OAAO;oDAAC;oDAAY,KAAK,MAAM,CAAC,OAAO,CAAC;;;;;;;;;;;;;gCAI/D;gCACA,OAAO;4BACT;;;;;;sCAEF,6LAAC,6JAAG;4BAAC,SAAQ;4BAAS,QAAQ;gCAAC;gCAAG;gCAAG;gCAAG;6BAAE;sCACvC,UAAU,GAAG,CAAC,CAAC,OAAO,sBACrB,6LAAC,+JAAI;oCAAuB,MAAM,MAAM,KAAK;mCAAlC,CAAC,KAAK,EAAE,OAAO;;;;;;;;;;;;;;;;;;;;;;;;;;;AAOxC;KAlEwB"}}]
}