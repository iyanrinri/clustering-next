{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/iyan/NodeStudio/clustering-next/components/visualizations/WordCloudVisualization.tsx"],"sourcesContent":["'use client';\n\nimport { ClusterResult } from '@/lib/types';\nimport { useMemo } from 'react';\n\ninterface WordCloudVisualizationProps {\n  data: ClusterResult;\n}\n\nexport default function WordCloudVisualization({ data }: WordCloudVisualizationProps) {\n  \n  // Merge all words into a single array for a global cloud\n  const allWords = useMemo(() => {\n    return data.clusters.flatMap(cluster => \n      cluster.words.map(word => ({\n        ...word,\n        color: cluster.color,\n        clusterId: cluster.id\n      }))\n    ).sort((a, b) => b.weight - a.weight);\n  }, [data]);\n\n  const displayWords = useMemo(() => {\n    return allWords.slice(0, 150);\n  }, [allWords]);\n\n  const maxWeight = useMemo(() => {\n    return Math.max(...displayWords.map(w => w.weight));\n  }, [displayWords]);\n\n  return (\n    <div className=\"w-full h-full bg-slate-900 rounded-xl border border-slate-800 p-6 overflow-hidden flex flex-col items-center justify-center relative\">\n       {/* Background decorative text */}\n       <div className=\"absolute top-4 left-6 z-10 pointer-events-none\">\n         <h3 className=\"text-lg font-semibold text-white/90\">WordCloud</h3>\n         <p className=\"text-xs text-white/50\">Top terms across all clusters</p>\n       </div>\n\n       {/* Simple layout distribution */}\n       <div className=\"flex flex-wrap items-center justify-center gap-x-4 gap-y-2 max-w-4xl mx-auto content-center h-full p-8 overflow-y-auto scrollbar-thin\">\n          {displayWords.map((word, idx) => {\n            const minSize = 14;\n            const maxSize = 64;\n            // Logarithmic scale often looks better for word clouds\n            const fontSize = minSize + ((word.weight / maxWeight) * (maxSize - minSize));\n            \n            // Random rotation for some words to create the cloud effect\n            // Use deterministic randomness based on word text to avoid hydration mismatch\n            const rotation = (word.text.length % 3 === 0) ? -90 : 0; \n            const isVertical = rotation === -90;\n\n            return (\n              <span\n                key={`${word.text}-${idx}`}\n                className=\"font-bold transition-all duration-300 hover:scale-125 hover:z-50 cursor-default select-none leading-none\"\n                style={{\n                  fontSize: `${fontSize}px`,\n                  color: word.color,\n                  opacity: 0.8 + (word.weight / maxWeight) * 0.2,\n                  // We'll stick to horizontal for readability unless we want true chaotic cloud\n                  writingMode: isVertical ? 'vertical-rl' : 'horizontal-tb',\n                }}\n                title={`${word.text} (Weight: ${word.weight.toFixed(2)})`}\n              >\n                {word.text}\n              </span>\n            );\n          })}\n       </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAGA;;;AAHA;;AASe,SAAS,uBAAuB,EAAE,IAAI,EAA+B;;IAElF,yDAAyD;IACzD,MAAM,WAAW,IAAA,wKAAO;oDAAC;YACvB,OAAO,KAAK,QAAQ,CAAC,OAAO;4DAAC,CAAA,UAC3B,QAAQ,KAAK,CAAC,GAAG;oEAAC,CAAA,OAAQ,CAAC;gCACzB,GAAG,IAAI;gCACP,OAAO,QAAQ,KAAK;gCACpB,WAAW,QAAQ,EAAE;4BACvB,CAAC;;2DACD,IAAI;4DAAC,CAAC,GAAG,IAAM,EAAE,MAAM,GAAG,EAAE,MAAM;;QACtC;mDAAG;QAAC;KAAK;IAET,MAAM,eAAe,IAAA,wKAAO;wDAAC;YAC3B,OAAO,SAAS,KAAK,CAAC,GAAG;QAC3B;uDAAG;QAAC;KAAS;IAEb,MAAM,YAAY,IAAA,wKAAO;qDAAC;YACxB,OAAO,KAAK,GAAG,IAAI,aAAa,GAAG;6DAAC,CAAA,IAAK,EAAE,MAAM;;QACnD;oDAAG;QAAC;KAAa;IAEjB,qBACE,6LAAC;QAAI,WAAU;;0BAEZ,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAG,WAAU;kCAAsC;;;;;;kCACpD,6LAAC;wBAAE,WAAU;kCAAwB;;;;;;;;;;;;0BAIvC,6LAAC;gBAAI,WAAU;0BACX,aAAa,GAAG,CAAC,CAAC,MAAM;oBACvB,MAAM,UAAU;oBAChB,MAAM,UAAU;oBAChB,uDAAuD;oBACvD,MAAM,WAAW,UAAW,AAAC,KAAK,MAAM,GAAG,YAAa,CAAC,UAAU,OAAO;oBAE1E,4DAA4D;oBAC5D,8EAA8E;oBAC9E,MAAM,WAAW,AAAC,KAAK,IAAI,CAAC,MAAM,GAAG,MAAM,IAAK,CAAC,KAAK;oBACtD,MAAM,aAAa,aAAa,CAAC;oBAEjC,qBACE,6LAAC;wBAEC,WAAU;wBACV,OAAO;4BACL,UAAU,GAAG,SAAS,EAAE,CAAC;4BACzB,OAAO,KAAK,KAAK;4BACjB,SAAS,MAAM,AAAC,KAAK,MAAM,GAAG,YAAa;4BAC3C,8EAA8E;4BAC9E,aAAa,aAAa,gBAAgB;wBAC5C;wBACA,OAAO,GAAG,KAAK,IAAI,CAAC,UAAU,EAAE,KAAK,MAAM,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;kCAExD,KAAK,IAAI;uBAXL,GAAG,KAAK,IAAI,CAAC,CAAC,EAAE,KAAK;;;;;gBAchC;;;;;;;;;;;;AAIV;GA9DwB;KAAA"}}]
}